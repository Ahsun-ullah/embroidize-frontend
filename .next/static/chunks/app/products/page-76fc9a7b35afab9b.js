(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3571],{11601:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(95155),n=r(12115);function o(e){let{sku:t}=e,[r,o]=(0,n.useState)(!1);return(0,s.jsx)("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(t),o(!0),setTimeout(()=>o(!1),1500)},title:"Click to copy SKU",className:"absolute top-0 right-0 z-10 group",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"\n            bg-gray-800 group-hover:bg-black\n            px-3 py-1.5 sm:px-4 sm:py-2\n            text-xs sm:text-sm\n            font-mono font-semibold\n            rounded-l-md rounded-br-md\n            shadow-md\n            transition-all duration-300\n            flex items-center justify-center\n          ",children:(0,s.jsx)("span",{className:"transition-opacity duration-300 ".concat(r?"opacity-100 text-green-400":"opacity-100 text-white"),children:r?"SKU copied":"SKU: ".concat(t)})}),(0,s.jsx)("div",{className:"\n            absolute top-0 right-0\n            w-0 h-0\n            border-t-[16px] sm:border-t-[20px]\n            border-t-transparent\n            border-l-[10px]\n            border-l-gray-800\n            group-hover:border-l-black\n            transition-colors\n          "})]})})}},17036:(e,t,r)=>{"use strict";function s(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:600,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;return"data:image/svg+xml;base64,".concat((e='\n  <svg width="'.concat(t,'" height="').concat(r,'" viewBox="0 0 ').concat(t," ").concat(r,'" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">\n    <defs>\n      <linearGradient id="g">\n        <stop stop-color="#f0f0f0" offset="20%" />\n        <stop stop-color="#e6e6e6" offset="50%" />\n        <stop stop-color="#f0f0f0" offset="70%" />\n      </linearGradient>\n    </defs>\n    <rect width="').concat(t,'" height="').concat(r,'" fill="#f0f0f0" />\n    <rect id="r" width="').concat(t,'" height="').concat(r,'" fill="url(#g)" />\n    <animate xlink:href="#r" attributeName="x" from="-').concat(t,'" to="').concat(t,'" dur="1s" repeatCount="indefinite"  />\n  </svg>'),window.btoa(e)))}r.d(t,{Jy:()=>s})},22985:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6874,23)),Promise.resolve().then(r.t.bind(r,33063,23)),Promise.resolve().then(r.bind(r,85715)),Promise.resolve().then(r.bind(r,85292)),Promise.resolve().then(r.bind(r,59870)),Promise.resolve().then(r.bind(r,20311))},45845:(e,t,r)=>{"use strict";r.d(t,{Gq:()=>a,Hd:()=>i,Lv:()=>m,jm:()=>c,nd:()=>u,xM:()=>l,zo:()=>d});var s=r(70404),n=r(76698),o=r(57383);let a=(0,s.xP)({reducerPath:"userInfoSlice",baseQuery:(0,n.cw)({baseUrl:"https://api.embroidize.com/api/v1",prepareHeaders:e=>{let t=o.A.get("token");return t&&e.set("Authorization","Bearer ".concat(t)),e}}),endpoints:e=>({userInfo:e.query({query:()=>({url:"/userinfo",method:"GET"})}),updateUserInfo:e.mutation({query:e=>({url:"/user/".concat(e.get("id")),method:"PUT",body:e})}),updatePassword:e.mutation({query:e=>({url:"/settings/password/",method:"PATCH",body:e})}),forgotPassword:e.mutation({query:e=>({url:"/public/forgot-password",method:"POST",body:e})}),resetPassword:e.mutation({query:e=>({url:"/public/reset-password",method:"POST",body:e})}),UserDownloadHistory:e.query({query:e=>({url:"/downloads/user/".concat(e),method:"GET"})})})}),{useUserInfoQuery:i,useUpdateUserInfoMutation:l,useUserDownloadHistoryQuery:c,useUpdatePasswordMutation:d,useForgotPasswordMutation:u,useResetPasswordMutation:m}=a},59870:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var s=r(95155),n=r(45845),o=r(17036),a=r(66766),i=r(6874),l=r.n(i),c=r(12115),d=r(11601);function u(e){let{status:t}=e;return t?(0,s.jsx)("div",{className:"flex items-center justify-center",title:"Admin Choice",children:(0,s.jsx)("i",{className:"ri-shield-star-fill text-4xl text-primary"})}):null}function m(e){return(0,s.jsx)("svg",{viewBox:"0 0 24 24",width:"16",height:"16","aria-hidden":"true",...e,children:(0,s.jsx)("path",{d:"M12 3v10.17l3.59-3.58L17 11l-5 5-5-5 1.41-1.41L11 13.17V3h1zM5 19h14v2H5z"})})}let p=c.memo(function(e){var t,r,i,c,p;let{item:h,index:x=0}=e;if(!(null==h?void 0:h._id)||!(null==h?void 0:h.name))return null;let f=(null==h||null==(t=h.image)?void 0:t.url)||"https://embroidize-assets.nyc3.cdn.digitaloceanspaces.com/image-not-found.png",g="/product/".concat(h.slug),v=h.name,b=(null==h||null==(r=h.category)?void 0:r.name)?null==h||null==(i=h.category)?void 0:i.name:(null==h||null==(c=h.sub_category)?void 0:c.name)||"",w=0===Number(null==h?void 0:h.price),j=w?"Free":"$".concat(Number((null==h?void 0:h.price)||0).toFixed(2)),y=Number((null==h?void 0:h.downloadCount)||0),N=0===x,S=(null==h||null==(p=h.image)?void 0:p.blurDataURL)||(0,o.Jy)(600,400);encodeURIComponent((b||"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""));let{data:P}=(0,n.Hd)();return(0,s.jsxs)("div",{className:"bg-white rounded-3xl border overflow-hidden relative",children:[(null==h?void 0:h.sku_code)&&(null==P?void 0:P.role)==="admin"&&(0,s.jsx)(d.A,{sku:h.sku_code}),(null==h?void 0:h.isAdminChoice)&&(null==P?void 0:P.role)==="admin"&&(0,s.jsx)("div",{className:"absolute top-[0.1 px] left-2 z-10",children:(0,s.jsx)(u,{status:h.isAdminChoice})}),(0,s.jsxs)(l(),{href:g,className:"block group","aria-label":"View details for ".concat(v),children:[(0,s.jsx)("div",{className:"relative w-full aspect-[3/2]",children:(0,s.jsx)(a.default,{src:f,alt:v,fill:!0,quality:78,sizes:"(max-width:640px) 100vw, (max-width:1024px) 50vw, 33vw",className:"object-cover object-center transition-transform duration-300 group-hover:scale-105",priority:N,fetchPriority:N?"high":"auto",placeholder:"blur",blurDataURL:S})}),(0,s.jsxs)("div",{className:"flex flex-col p-4 gap-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,s.jsx)("p",{className:"text-sm sm:text-base md:text-lg font-semibold capitalize truncate",title:v,children:v}),(0,s.jsx)("span",{className:"text-sm sm:text-base md:text-lg px-2 rounded-md shadow- ".concat(w?" font-extrabold uppercase":"text-black font-semibold"),children:j})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between gap-4 text-xs sm:text-sm md:text-base",children:[(0,s.jsx)("div",{className:"text-black capitalize font-semibold truncate",title:b,children:b.replace(/embroidery designs/gi,"").trim()}),(0,s.jsxs)("span",{className:"font-semibold flex items-center gap-1",children:[(0,s.jsx)(m,{}),new Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:1}).format(y)]})]})]})]})]})})},85292:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var s=r(95155),n=r(17323),o=r(9234),a=r(35695),i=r(12115);let l=e=>{let{totalPages:t,perPageData:r}=e,l=(0,a.useRouter)(),c=(0,a.useSearchParams)(),[d,u]=(0,i.useTransition)(),m=parseInt(c.get("page")||"1",10),p=parseInt(c.get("limit")||String(r),10),h=(0,i.useCallback)(e=>{u(()=>{let t=new URLSearchParams(c.toString());t.set("page",String(e)),t.set("limit",String(p||10)),l.push("?".concat(t.toString()))})},[l,c,p]);return t<=1?null:(console.log(r),console.log(t),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2 mt-4",children:[(0,s.jsx)(n.T,{showControls:!0,showShadow:!0,color:"primary",page:m,total:t,onChange:h,isDisabled:d}),d&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,s.jsx)(o.o,{size:"sm",color:"primary"}),(0,s.jsx)("span",{children:"Loading page data..."})]})]}))}},85715:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var s=r(95155),n=r(35695),o=r(12115);function a(e){let{retryInterval:t=1e4}=e,r=(0,n.useRouter)(),a=(0,o.useRef)(null),i=(0,o.useRef)(null),[l,c]=(0,o.useState)("connecting"),[d,u]=(0,o.useState)(null),m="https://api.embroidize.com/api/v1/public/product/stream",p=()=>{if(!m)return;c("connecting");let e=new EventSource(m);a.current=e,e.onopen=()=>{c("open")},e.addEventListener("heartbeat",()=>{c("listening")}),e.onmessage=e=>{u(JSON.parse(e.data)),r.refresh()},e.onerror=r=>{c("error"),e.close(),i.current=setTimeout(()=>{c("reconnecting"),p()},t)}};return(0,o.useEffect)(()=>(p(),()=>{var e;null==(e=a.current)||e.close(),clearTimeout(i.current)}),[]),(0,s.jsx)("div",{className:"fixed bottom-4 right-4",children:(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsx)("p",{className:"text-sm text-gray-500"})})})}}},e=>{e.O(0,[9234,640,8355,8793,4710,6057,5014,6874,6766,7285,7323,6718,311,8441,5964,7358],()=>e(e.s=22985)),_N_E=e.O()}]);