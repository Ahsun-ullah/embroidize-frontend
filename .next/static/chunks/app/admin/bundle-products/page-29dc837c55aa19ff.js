(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[654],{18850:(e,t,r)=>{"use strict";r.d(t,{j:()=>o});var a=r(73750),s=r(51828),n=r(80148),l=r(12115);function o(e={}){let{id:t,defaultOpen:r,isOpen:i,onClose:d,onOpen:c,onChange:u=()=>{}}=e,h=(0,n.c)(c),m=(0,n.c)(d),[p,g]=(0,s.P)(i,r||!1,u),f=(0,l.useId)(),v=t||f,b=void 0!==i,w=(0,l.useCallback)(()=>{b||g(!1),null==m||m()},[b,m]),x=(0,l.useCallback)(()=>{b||g(!0),null==h||h()},[b,h]),j=(0,l.useCallback)(()=>{(p?w:x)()},[p,x,w]);return{isOpen:!!p,onOpen:x,onClose:w,onOpenChange:j,isControlled:b,getButtonProps:(e={})=>({...e,"aria-expanded":p,"aria-controls":v,onClick:(0,a.c)(e.onClick,j)}),getDisclosureProps:(e={})=>({...e,hidden:!p,id:v})}}},19946:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(12115);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:d="",children:c,iconNode:u,...h}=e;return(0,a.createElement)("svg",{ref:t,...l,width:s,height:s,stroke:r,strokeWidth:i?24*Number(o)/Number(s):o,className:n("lucide",d),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"},...h},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),i=(e,t)=>{let r=(0,a.forwardRef)((r,l)=>{let{className:i,...d}=r;return(0,a.createElement)(o,{ref:l,iconNode:t,className:n("lucide-".concat(s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),i),...d})});return r.displayName=s(e),r}},24875:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});var a=r(12115),s=r(97399);function n(e={}){let{onLoad:t,onError:r,ignoreFallback:l,src:o,crossOrigin:i,srcSet:d,sizes:c,loading:u}=e,h=a.useSyncExternalStore(()=>()=>{},()=>!0,()=>!1),m=(0,a.useRef)(h?new Image:null),[p,g]=(0,a.useState)("pending");(0,a.useEffect)(()=>{m.current&&(m.current.onload=e=>{f(),g("loaded"),null==t||t(e)},m.current.onerror=e=>{f(),g("failed"),null==r||r(e)})},[m.current]);let f=()=>{m.current&&(m.current.onload=null,m.current.onerror=null,m.current=null)},v=(0,a.useCallback)(()=>{if(!o)return"pending";if(l)return"loaded";let e=new Image;return(e.src=o,i&&(e.crossOrigin=i),d&&(e.srcset=d),c&&(e.sizes=c),u&&(e.loading=u),m.current=e,e.complete&&e.naturalWidth)?"loaded":"loading"},[o,i,d,c,t,r,u]);return(0,s.U)(()=>{h&&g(v())},[h,v]),l?"loaded":p}},27493:(e,t,r)=>{"use strict";r.d(t,{Q:()=>n});var a=r(51804);let s=new Map;function n(e){let{locale:t}=(0,a.Y)(),r=t+(e?Object.entries(e).sort((e,t)=>e[0]<t[0]?-1:1).join():"");if(s.has(r))return s.get(r);let n=new Intl.Collator(t,e);return s.set(r,n),n}},35695:(e,t,r)=>{"use strict";r.r(t);var a=r(18999),s={};for(let e in a)"default"!==e&&(s[e]=()=>a[e]);r.d(t,s)},39476:(e,t,r)=>{"use strict";r.d(t,{default:()=>E});var a=r(95155),s=r(72495),n=r(53454),l=r(18850),o=r(75813),i=r(64165),d=r(78355),c=r(30086),u=r(53773),h=r(95604),m=r(58451),p=r(64177),g=r(33183),f=r(17323),v=r(64915),b=r(40477),w=r(84520),x=r(1493),j=r(97376),k=r(92657),y=r(62525);let C=(0,r(19946).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var N=r(47924),A=r(6874),z=r.n(A),S=r(35695),I=r(12115);function E(e){let{initialData:t,pagination:r,columns:A}=e,E=(0,S.useRouter)(),W=(0,S.useSearchParams)(),[B,L]=(0,I.useState)(W.get("search")||""),{isOpen:M,onOpen:P,onOpenChange:O}=(0,l.j)(),[T,_]=(0,I.useState)(null),[D,U]=(0,I.useState)(!1),R=e=>{let t=new URLSearchParams(W.toString());e?(t.set("search",e),t.set("page","1")):t.delete("search"),E.push("?".concat(t.toString()))},$=async()=>{if(T){U(!0);try{var e;let t=null==(e=document.cookie.split("; ").find(e=>e.startsWith("token=")))?void 0:e.split("=")[1],r={"Content-Type":"application/json"};t&&(r.Authorization="Bearer ".concat(t));let a=await fetch("".concat("https://api.embroidize.com/api/v1","/bundles/").concat(T),{method:"DELETE",headers:r}),s=await a.json();if(!a.ok)throw Error(s.message||"Failed to delete bundle");(0,n.r)("Success",(null==s?void 0:s.message)||"Action successfully done!",3e3),startTransition(()=>{E.refresh(),O(!1)})}catch(e){(0,s.Q)("Error",e.message||"Action Failed",3e3)}finally{U(!1),_(null)}}};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"All Bundles"}),(0,a.jsxs)(z(),{href:"/admin/all-products",className:"button flex items-center gap-2",children:[(0,a.jsx)(C,{size:18})," Create Bundle"]})]}),(0,a.jsx)(d.r,{isClearable:!0,placeholder:"Search...",startContent:(0,a.jsx)(N.A,{size:18}),value:B,onValueChange:L,onClear:()=>R(""),onKeyDown:e=>{"Enter"===e.key&&R(B)}}),(0,a.jsxs)(c.j,{"aria-label":"Bundles table",children:[(0,a.jsx)(u.X,{columns:A,children:e=>(0,a.jsx)(h.e,{children:e.name},e.uid)}),(0,a.jsx)(m.E,{items:t,children:e=>(0,a.jsx)(p.s,{children:t=>(0,a.jsx)(g.w,{children:((e,t)=>{var r,s,n,l;switch(t){case"image":return(0,a.jsx)(o.W,{src:(null==(r=e.image)?void 0:r.url)||"/og-banner.jpg",alt:e.name,width:60,height:60,className:"rounded-md"});case"name":return(0,a.jsx)("div",{className:"font-semibold",children:e.name});case"products":return(0,a.jsxs)("div",{className:"text-sm",children:[(null==(s=e.products)?void 0:s.length)||0," products"]});case"createdBy":return(0,a.jsx)("div",{className:"text-sm",children:(null==(n=e.createdBy)?void 0:n.name)||(null==(l=e.createdBy)?void 0:l.email)||"N/A"});case"createdAt":return(0,a.jsx)("div",{className:"text-sm",children:new Date(e.createdAt).toLocaleDateString()});case"actions":return(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(i.T,{isIconOnly:!0,size:"sm",variant:"light",as:z(),href:"/admin/bundle-products/".concat(e.slug),children:(0,a.jsx)(k.A,{size:18})}),(0,a.jsx)(i.T,{isIconOnly:!0,size:"sm",variant:"light",color:"danger",onClick:()=>{_(e._id),P()},children:(0,a.jsx)(y.A,{size:18})})]});default:return e[t]}})(e,t)})},e._id)})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(f.T,{total:r.totalPages,initialPage:r.page,onChange:e=>{let t=new URLSearchParams(W.toString());t.set("page",e.toString()),E.push("?".concat(t.toString()))},showControls:!0,isCompact:!0,showShadow:!0})}),(0,a.jsx)(v.Y,{isOpen:M,onOpenChange:O,backdrop:"blur",children:(0,a.jsx)(b.g,{children:e=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w.c,{className:"flex flex-col gap-1",children:"Confirm Deletion"}),(0,a.jsx)(x.h,{children:(0,a.jsx)("p",{children:"Are you sure you want to delete this bundle? This action can be undone later as it is a soft delete."})}),(0,a.jsxs)(j.q,{children:[(0,a.jsx)(i.T,{variant:"light",onPress:e,children:"Cancel"}),(0,a.jsx)(i.T,{color:"danger",isLoading:D,onPress:$,children:"Delete Bundle"})]})]})})})]})}},47924:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},53454:(e,t,r)=>{"use strict";r.d(t,{r:()=>l});var a=r(95155),s=r(60418),n=r(29858);let l=(e,t,r)=>(0,s.$U)({title:"".concat(e,"!"),description:"".concat(t),timeout:"".concat(r),color:"success",position:"top-right",shouldShowTimeoutProgress:!0,classNames:{closeButton:"opacity-100 absolute right-4 top-1/2 -translate-y-1/2 ms-8",base:(0,n.cn)(["bg-default-50 dark:bg-background shadow-sm text-black flex"])},closeIcon:(0,a.jsxs)("svg",{fill:"none",height:"32",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"32",children:[(0,a.jsx)("path",{d:"M18 6 6 18"}),(0,a.jsx)("path",{d:"m6 6 12 12"})]})})},61589:(e,t,r)=>{"use strict";r.d(t,{l:()=>c});var a=r(12115),s=r(4885),n=r(60288),l=(0,r(78074).tv)({slots:{wrapper:"relative shadow-black/5",zoomedWrapper:"relative overflow-hidden rounded-inherit",img:"relative z-10 opacity-0 shadow-black/5 data-[loaded=true]:opacity-100",blurredImg:["absolute","z-0","inset-0","w-full","h-full","object-cover","filter","blur-lg","scale-105","saturate-150","opacity-30","translate-y-1"]},variants:{radius:{none:{},sm:{},md:{},lg:{},full:{}},shadow:{none:{wrapper:"shadow-none",img:"shadow-none"},sm:{wrapper:"shadow-small",img:"shadow-small"},md:{wrapper:"shadow-medium",img:"shadow-medium"},lg:{wrapper:"shadow-large",img:"shadow-large"}},isZoomed:{true:{img:["object-cover","transform","hover:scale-125"]}},showSkeleton:{true:{wrapper:["group","relative","overflow-hidden","bg-content3 dark:bg-content2"],img:"opacity-0"}},disableAnimation:{true:{img:"transition-none"},false:{img:"transition-transform-opacity motion-reduce:transition-none !duration-300"}}},defaultVariants:{radius:"lg",shadow:"none",isZoomed:!1,isBlurred:!1,showSkeleton:!1},compoundVariants:[{showSkeleton:!0,disableAnimation:!1,class:{wrapper:["before:opacity-100","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-content4/30","before:bg-gradient-to-r","before:from-transparent","before:via-content4","dark:before:via-default-700/10","before:to-transparent","after:opacity-100","after:absolute","after:inset-0","after:-z-10","after:bg-content3","dark:after:bg-content2"]}}],compoundSlots:[{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"none",class:"rounded-none"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"full",class:"rounded-full"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"sm",class:"rounded-small"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"md",class:"rounded-md"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"lg",class:"rounded-large"}]}),o=r(34550),i=r(72100),d=r(24875);function c(e){var t,r;let c=(0,s.o)(),[u,h]=(0,n.rE)(e,l.variantKeys),{ref:m,as:p,src:g,className:f,classNames:v,loading:b,isBlurred:w,fallbackSrc:x,isLoading:j,disableSkeleton:k=!!x,removeWrapper:y=!1,onError:C,onLoad:N,srcSet:A,sizes:z,crossOrigin:S,...I}=u,E=(0,d.l)({src:g,loading:b,onError:C,onLoad:N,ignoreFallback:!1,srcSet:A,sizes:z,crossOrigin:S}),W=null!=(r=null!=(t=e.disableAnimation)?t:null==c?void 0:c.disableAnimation)&&r,B="loaded"===E&&!j,L="loading"===E||j,M=e.isZoomed,P=(0,o.zD)(m),{w:O,h:T}=(0,a.useMemo)(()=>({w:u.width?"number"==typeof u.width?"".concat(u.width,"px"):u.width:"fit-content",h:u.height?"number"==typeof u.height?"".concat(u.height,"px"):u.height:"auto"}),[null==u?void 0:u.width,null==u?void 0:u.height]),_=(!g||!B)&&!!x,D=L&&!k,U=(0,a.useMemo)(()=>l({...h,disableAnimation:W,showSkeleton:D}),[(0,i.t6)(h),W,D]),R=(0,i.$z)(f,null==v?void 0:v.img),$=(0,a.useCallback)(()=>{let e=_?{backgroundImage:"url(".concat(x,")")}:{};return{className:U.wrapper({class:null==v?void 0:v.wrapper}),style:{...e,maxWidth:O}}},[U,_,x,null==v?void 0:v.wrapper,O]),F=(0,a.useCallback)(()=>({src:g,"aria-hidden":(0,i.sE)(!0),className:U.blurredImg({class:null==v?void 0:v.blurredImg})}),[U,g,null==v?void 0:v.blurredImg]);return{Component:p||"img",domRef:P,slots:U,classNames:v,isBlurred:w,disableSkeleton:k,fallbackSrc:x,removeWrapper:y,isZoomed:M,isLoading:L,getImgProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,i.$z)(R,null==e?void 0:e.className);return{src:g,ref:P,"data-loaded":(0,i.sE)(B),className:U.img({class:t}),loading:b,srcSet:A,sizes:z,crossOrigin:S,...I,style:{...(null==I?void 0:I.height)&&{height:T},...e.style,...I.style}}},getWrapperProps:$,getBlurredImgProps:F}}},62525:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},66117:(e,t,r)=>{Promise.resolve().then(r.bind(r,39476))},68613:(e,t,r)=>{"use strict";function a(e,t){return"function"==typeof t.getChildren?t.getChildren(e.key):e.childNodes}function s(e){var t=e,r=0;!1;let a=0;for(let e of t){if(a===r)return e;a++}}function n(e){let t;for(let r of e)t=r;return t}r.d(t,{W:()=>n,iQ:()=>a,ue:()=>s})},72495:(e,t,r)=>{"use strict";r.d(t,{Q:()=>l});var a=r(95155),s=r(60418),n=r(29858);let l=(e,t,r)=>(0,s.$U)({title:"".concat(e,"!"),description:"".concat(t),timeout:"".concat(r||3e3),color:"danger",position:"top-right",shouldShowTimeoutProgress:!0,classNames:{closeButton:"opacity-100 absolute right-4 top-1/2 -translate-y-1/2 ms-8",base:(0,n.cn)(["bg-default-50 dark:bg-background shadow-sm text-black flex"])},closeIcon:(0,a.jsxs)("svg",{fill:"none",height:"32",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"32",children:[(0,a.jsx)("path",{d:"M18 6 6 18"}),(0,a.jsx)("path",{d:"m6 6 12 12"})]})})},75813:(e,t,r)=>{"use strict";r.d(t,{W:()=>i});var a=r(61589),s=r(12115),n=r(60288),l=r(95155),o=(0,n.Rf)((e,t)=>{let{Component:r,domRef:n,slots:o,classNames:i,isBlurred:d,isZoomed:c,fallbackSrc:u,removeWrapper:h,disableSkeleton:m,getImgProps:p,getWrapperProps:g,getBlurredImgProps:f}=(0,a.l)({...e,ref:t}),v=(0,l.jsx)(r,{ref:n,...p()});if(h)return v;let b=(0,l.jsx)("div",{className:o.zoomedWrapper({class:null==i?void 0:i.zoomedWrapper}),children:v});return d?(0,l.jsxs)("div",{...g(),children:[c?b:v,(0,s.cloneElement)(v,f())]}):c||!m||u?(0,l.jsxs)("div",{...g(),children:[" ",c?b:v]}):v});o.displayName="HeroUI.Image";var i=o},92657:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},97376:(e,t,r)=>{"use strict";r.d(t,{q:()=>d});var a=r(73712),s=r(60288),n=r(34550),l=r(72100),o=r(95155),i=(0,s.Rf)((e,t)=>{let{as:r,children:s,className:i,...d}=e,{slots:c,classNames:u}=(0,a.k)(),h=(0,n.zD)(t);return(0,o.jsx)(r||"footer",{ref:h,className:c.footer({class:(0,l.$z)(null==u?void 0:u.footer,i)}),...d,children:s})});i.displayName="HeroUI.ModalFooter";var d=i}},e=>{e.O(0,[9234,640,8355,8793,6057,6874,6501,418,7323,9858,8254,8703,9699,1310,8441,5964,7358],()=>e(e.s=66117)),_N_E=e.O()}]);