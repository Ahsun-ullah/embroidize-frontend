(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6631],{448:(e,t,a)=>{"use strict";a.d(t,{p:()=>i});var l=a(95155),r=a(12115),s=a(8062);let i=e=>{let{value:t=[],onChange:a}=e,[i,n]=(0,r.useState)(""),o=t.map(e=>(e=>({label:e,value:e}))(e));return(0,l.jsx)(s.A,{components:{DropdownIndicator:null},inputValue:i,isClearable:!0,isMulti:!0,menuIsOpen:!1,onChange:e=>{a(e?e.map(e=>e.value):[])},onInputChange:n,onKeyDown:e=>{if(i)switch(e.key){case"Enter":case"Tab":e.preventDefault(),(e=>{let l=e.split(",").map(e=>e.trim()).filter(e=>e.length>0&&!t.includes(e));l.length&&a([...t,...l])})(i),n("")}},placeholder:"Type or paste tags, then press Enter or Tab...",value:o,className:"h-12"})}},8574:(e,t,a)=>{"use strict";function l(e){return e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():""}a.d(t,{Ll:()=>r,Yv:()=>s,ZH:()=>l,ZV:()=>i});let r=async e=>{if("string"==typeof e&&e.startsWith("http"))try{let t=await fetch(e),a=await t.blob(),l=e.split("/").pop(),r=e.split(".").pop();return new File([a],l,{type:"application/".concat(r)})}catch(e){return console.error("Error fetching file from URL:",e),null}return e instanceof File||e instanceof Blob?e:null},s=e=>null==e?void 0:e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+|-+$/g,"");function i(e){return e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"K":e.toString()}},27975:(e,t,a)=>{"use strict";a.d(t,{AC:()=>g,E3:()=>m,HL:()=>n,Mi:()=>p,Sp:()=>i,nB:()=>c,pB:()=>o,vQ:()=>d,yG:()=>u});var l=a(70404),r=a(76698),s=a(57383);let i=(0,l.xP)({reducerPath:"categoryAndSubcategorySlice",baseQuery:(0,r.cw)({baseUrl:"https://api.embroidize.com/api/v1",prepareHeaders:e=>{let t=s.A.get("token");return t&&e.set("Authorization","Bearer ".concat(t)),e}}),endpoints:e=>({addProductCategory:e.mutation({query:e=>({url:"/product-category",method:"POST",body:e})}),updateProductCategory:e.mutation({query:e=>{let t=e.get("id");return{url:"/product-category/".concat(t),method:"PUT",body:e}}}),addProductSubCategory:e.mutation({query:e=>({url:"/product-subcategory",method:"POST",body:e})}),updateProductSubCategory:e.mutation({query:e=>{let t=e.get("id");return{url:"/product-subcategory/".concat(t),method:"PUT",body:e}}}),getPublicProductCategories:e.query({query:()=>({url:"/public/product-category",method:"GET"}),keepUnusedDataFor:86400,refetchOnMountOrArgChange:!1,refetchOnReconnect:!1}),getSinglePublicProductCategory:e.query({query:e=>({url:"/public/product-category/".concat(e),method:"GET"})}),getPublicProductSubCategories:e.query({query:()=>({url:"/public/product-subcategory",method:"GET"})}),getSinglePublicProductSubCategory:e.query({query:e=>({url:"/public/product-subcategory/".concat(e),method:"GET"})})})}),{useAddProductCategoryMutation:n,useUpdateProductCategoryMutation:o,useAddProductSubCategoryMutation:d,useUpdateProductSubCategoryMutation:c,useGetPublicProductCategoriesQuery:u,useGetSinglePublicProductCategoryQuery:m,useGetPublicProductSubCategoriesQuery:g,useGetSinglePublicProductSubCategoryQuery:p}=i},29879:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var l=a(95155),r=a(9234);let s=()=>(0,l.jsx)(r.o,{color:"white",className:"bg-black p-3 rounded-full"})},50123:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>O});var l=a(95155),r=a(78904),s=a(90972),i=a(27975),n=a(18850),o=a(96424),d=a(3329),c=a(19652),u=a(64165),m=a(25556),g=a(50766),p=a(12115),x=a(72495),h=a(29879),f=a(53454),j=a(58316),y=a(8574),b=a(64915),v=a(40477),w=a(84520),N=a(1493),C=a(90221),k=a(75588),_=a(62177),S=a(50844),E=a(448);function P(e){let{isOpen:t,onOpenChange:a,category:r,setCategoryId:s}=e,[n,o]=(0,p.useState)((null==r?void 0:r.description)||""),[d,c]=(0,p.useState)((null==r?void 0:r.slug)||""),[u]=(0,i.HL)(),[m]=(0,i.pB)(),{refetch:g}=(0,i.yG)(),{control:P,register:M,handleSubmit:Y,formState:{errors:A,isSubmitting:O},reset:I,setValue:T}=(0,_.mN)({resolver:(0,C.u)(j.uR),defaultValues:{name:"",slug:"",description:"",meta_title:"",meta_description:"",meta_keywords:[],image:null}});(0,p.useEffect)(()=>{!async function(){var e,t,a,l,s,i,n,d,u;let m=await (0,y.Ll)(null==r||null==(e=r.image)?void 0:e.url);r&&(I({name:null!=(t=r.name)?t:"",slug:null!=(a=r.slug)?a:"",description:null!=(l=r.description)?l:"",meta_title:null!=(s=r.meta_title)?s:"",meta_description:null!=(i=r.meta_description)?i:"",meta_keywords:null!=(n=r.meta_keywords)?n:[],image:null!=m?m:null}),o(null!=(d=r.description)?d:""),c(null!=(u=r.slug)?u:""))}()},[r,I]);let D=e=>{let t=e.target.value;c((0,y.Yv)(t)),T("name",t)},F=async e=>{try{let t=new FormData;if(Object.entries(e).forEach(e=>{let[a,l]=e;null!=l&&("image"===a?l instanceof File&&t.append(a,l):"meta_keywords"===a?l.forEach((e,a)=>{t.append("meta_keywords[".concat(a,"]"),e)}):t.append(a,l))}),null==r?void 0:r._id){t.append("id",r._id);let e=await m(t).unwrap();e.error?(0,x.Q)("Error",e.error.data.message||"API Error",3e3):((0,f.r)("Success",e.data.message||"Action successfully done!",3e3),g(),I(),o(""),s(""),a())}else{let e=await u(t).unwrap();e.error?(0,x.Q)("Error",e.error.data.message||"API Error",3e3):((0,f.r)("Success",e.data.message||"Action successfully done!",3e3),g(),I(),o(""),s(""),a())}}catch(e){console.error("Error submitting form:",e),(0,x.Q)("Error",e||"API Error",3e3)}};return(0,l.jsx)(b.Y,{isOpen:t,onOpenChange:()=>{s(""),I(),a()},scrollBehavior:"inside",placement:"center",size:"5xl",children:(0,l.jsx)(v.g,{children:e=>{var t;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(w.c,{className:"flex flex-col gap-1",children:r?"Update Category":"Add Category"}),(0,l.jsx)(N.h,{children:(0,l.jsxs)("form",{onSubmit:Y(F),className:"flex flex-col gap-4",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsxs)("label",{className:"text-lg font-medium tracking-tight leading-5",htmlFor:"name",children:["Category Name ",(0,l.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,l.jsx)("input",{id:"name",placeholder:"Category Name",...M("name"),onChange:D,className:"flex w-full flex-wrap md:flex-nowrap gap-4 border-[1.8px] rounded-[4px] p-2"}),A.name&&(0,l.jsx)("p",{className:"text-red-500 font-light",children:A.name.message})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsxs)("label",{className:"text-lg font-medium tracking-tight leading-5",htmlFor:"slug",children:["Category Slug ",(0,l.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,l.jsx)("input",{id:"slug",placeholder:"Category Slug",...M("slug"),value:d,onChange:e=>c((0,y.Yv)(e.target.value)),className:"flex w-full flex-wrap md:flex-nowrap gap-4 border-[1.8px] rounded-[4px] p-2"}),A.slug&&(0,l.jsx)("p",{className:"text-red-500 font-light",children:A.slug.message})]}),(0,l.jsxs)("div",{"data-color-mode":"light",className:"flex flex-col gap-2",children:[(0,l.jsxs)("label",{className:"text-lg font-medium tracking-tight leading-5",htmlFor:"description",children:["Category Description ",(0,l.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,l.jsx)(_.xI,{name:"description",control:P,render:e=>{let{field:t}=e;return(0,l.jsx)(k.Ay,{...t,value:n,onChange:e=>{o(e),t.onChange(e)},preview:"edit",height:300,textareaProps:{placeholder:"Enter Category Description"},previewOptions:{disallowedElements:["style"]},className:"rounded-[4px] p-2 overflow-hidden"})}}),A.description&&(0,l.jsx)("p",{className:"text-red-500 font-light",children:A.description.message})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsxs)("label",{className:"text-lg font-medium tracking-tight leading-5",htmlFor:"meta_title",children:["Meta Title ",(0,l.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,l.jsx)("input",{id:"meta_title",placeholder:"Category Name",...M("meta_title"),className:"flex w-full flex-wrap md:flex-nowrap gap-4 border-[1.8px] rounded-[4px] p-2"}),A.meta_title&&(0,l.jsx)("p",{className:"text-red-500 font-light",children:A.meta_title.message})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsxs)("label",{className:"text-lg font-medium tracking-tight leading-5",htmlFor:"meta_description",children:["Meta Description ",(0,l.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,l.jsx)("textarea",{rows:8,id:"meta_description",placeholder:"Meta description",...M("meta_description"),className:"flex w-full flex-wrap md:flex-nowrap gap-4 border-[1.8px] rounded-[4px] p-2"}),A.meta_description&&(0,l.jsx)("p",{className:"text-red-500 font-light",children:A.meta_description.message})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsxs)("label",{className:"text-lg font-medium tracking-tight leading-5",htmlFor:"meta_keywords",children:["Category Tags ",(0,l.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,l.jsx)(_.xI,{name:"meta_keywords",control:P,render:e=>{let{field:t}=e;return(0,l.jsx)(E.p,{value:t.value||[],onChange:e=>t.onChange(e)})}}),A.meta_keywords&&(0,l.jsx)("p",{className:"text-red-500 font-light",children:A.meta_keywords.message})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsxs)("label",{className:"text-lg font-medium tracking-tight leading-5",children:["Category Image ",(0,l.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,l.jsx)(S.p,{label:"Upload category image (.jpg, .png). Min: 580px \xd7 386px, Max: 5000px \xd7 5000px",accept:{"image/jpeg":[],"image/png":[]},onDrop:e=>T("image",e,{shouldValidate:!0}),error:null==(t=A.image)?void 0:t.message,itemData:r})]}),(0,l.jsx)("div",{className:"col-span-3 flex justify-center w-full my-8 ",children:O?(0,l.jsx)(h.default,{}):(0,l.jsx)("button",{type:"submit",disabled:O,className:"w-full md:w-auto px-4 py-2 rounded-md font-medium text-white\n             bg-slate-800\n              hover:bg-black  hover:shadow-lg\n              disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed\n              transition-all duration-300 ease-in-out\n              ".concat(O?"cursor-wait":""),children:r?"Update Category":"Create Category"})})]})})]})}})})}var M=a(60868);function Y(e){let{isOpen:t,onOpenChange:a,subCategory:r,setSubCategoryId:s}=e,[n,o]=(0,p.useState)((null==r?void 0:r.description)||""),[d,c]=(0,p.useState)((null==r?void 0:r.slug)||""),[u,m]=(0,p.useState)([]),{data:g}=(0,i.yG)(),[P]=(0,i.vQ)(),[Y]=(0,i.nB)(),{refetch:A}=(0,i.AC)(),{control:O,register:I,handleSubmit:T,formState:{errors:D,isSubmitting:F},reset:q,setValue:L}=(0,_.mN)({resolver:(0,C.u)(j.UC),defaultValues:{name:"",slug:"",category:"",description:"",meta_title:"",meta_description:"",meta_keywords:[],image:null}});(0,p.useEffect)(()=>{if(r){var e;q({name:r.name||"",slug:r.slug||"",category:(null==(e=r.category)?void 0:e._id)||"",description:r.description||"",meta_title:r.meta_title||"",meta_description:r.meta_description||"",meta_keywords:r.meta_keywords||[],image:r.image||null}),o(r.description||""),c(r.slug||"")}},[r,q]),(0,p.useEffect)(()=>{var e;(null==g||null==(e=g.data)?void 0:e.length)>0&&m(g.data.map(e=>({label:null==e?void 0:e.name,value:null==e?void 0:e._id})))},[g]);let U=e=>{let t=e.target.value;c((0,y.Yv)(t)),L("name",t)},z=async e=>{try{let i=new FormData;if(i.append("name",e.name),i.append("slug",e.slug),i.append("category",e.category),i.append("description",e.description),i.append("meta_title",e.meta_title),i.append("meta_description",e.meta_description),e.meta_keywords&&e.meta_keywords.forEach((e,t)=>{i.append("meta_keywords[".concat(t,"]"),e)}),e.image instanceof File&&i.append("image",e.image),null==r?void 0:r._id){i.append("id",r._id);let e=await Y(i).unwrap();e.error?(0,x.Q)("Error",e.error.data.message||"API Error",3e3):((0,f.r)("Success",e.data.message||"Action successfully done!",3e3),A(),q(),o(""),s(""),a())}else{var t,l;let e=await P(i).unwrap();e.error?(0,x.Q)("Error",(null==(t=e.error.data)?void 0:t.message)||"API Error",3e3):((0,f.r)("Success",(null==(l=e.data)?void 0:l.message)||"Subcategory added!",3e3),A(),q(),o(""),a())}}catch(e){console.error("Error submitting form:",e),(0,x.Q)("Error",e.message||"Failed to submit form",3e3)}};return(0,l.jsx)(b.Y,{isOpen:t,onOpenChange:()=>{s(""),q(),a()},scrollBehavior:"inside",placement:"center",size:"5xl",children:(0,l.jsx)(v.g,{children:e=>{var t;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(w.c,{className:"flex flex-col gap-1",children:r?"Update Subcategory":"Add Subcategory"}),(0,l.jsx)(N.h,{children:(0,l.jsxs)("form",{onSubmit:T(z),className:"flex flex-col gap-4",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsxs)("label",{className:"text-lg font-medium tracking-tight leading-5",htmlFor:"name",children:["Subcategory Name ",(0,l.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,l.jsx)("input",{id:"name",placeholder:"Subcategory Name",...I("name"),onChange:U,className:"flex w-full flex-wrap md:flex-nowrap gap-4 border-[1.8px] rounded-[4px] p-2"}),D.name&&(0,l.jsx)("p",{className:"text-red-500 font-light",children:D.name.message})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsxs)("label",{className:"text-lg font-medium tracking-tight leading-5",htmlFor:"slug",children:["Subcategory Slug ",(0,l.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,l.jsx)("input",{id:"slug",placeholder:"Subcategory Slug",...I("slug"),value:d,onChange:e=>c((0,y.Yv)(e.target.value)),className:"flex w-full flex-wrap md:flex-nowrap gap-4 border-[1.8px] rounded-[4px] p-2"}),D.slug&&(0,l.jsx)("p",{className:"text-red-500 font-light",children:D.slug.message})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"text-lg font-medium tracking-tight leading-5",htmlFor:"category",children:["Category ",(0,l.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,l.jsx)(_.xI,{name:"category",control:O,render:e=>{let{field:t}=e;return(0,l.jsx)(M.Ay,{options:u,onChange:e=>t.onChange(e?e.value:""),value:u.find(e=>e.value===t.value)||null,placeholder:"Select a category","aria-label":"Category"})}}),D.category&&(0,l.jsx)("p",{className:"text-red-500 font-light",children:D.category.message})]}),(0,l.jsxs)("div",{"data-color-mode":"light",className:"flex flex-col gap-2",children:[(0,l.jsxs)("label",{className:"text-lg font-medium tracking-tight leading-5",htmlFor:"description",children:["Subcategory Description"," ",(0,l.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,l.jsx)(_.xI,{name:"description",control:O,render:e=>{let{field:t}=e;return(0,l.jsx)(k.Ay,{value:n,onChange:e=>{o(e),t.onChange(e)},preview:"edit",height:300,textareaProps:{placeholder:"Enter Subcategory Description"},previewOptions:{disallowedElements:["style"]},className:"rounded-[4px] p-2 overflow-hidden"})}}),D.description&&(0,l.jsx)("p",{className:"text-red-500 font-light",children:D.description.message})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsxs)("label",{className:"text-lg font-medium tracking-tight leading-5",htmlFor:"meta_title",children:["Meta Title ",(0,l.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,l.jsx)("input",{id:"meta_title",placeholder:"Meta Title",...I("meta_title"),className:"flex w-full flex-wrap md:flex-nowrap gap-4 border-[1.8px] rounded-[4px] p-2"}),D.meta_title&&(0,l.jsx)("p",{className:"text-red-500 font-light",children:D.meta_title.message})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsxs)("label",{className:"text-lg font-medium tracking-tight leading-5",htmlFor:"meta_description",children:["Meta Description ",(0,l.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,l.jsx)("textarea",{rows:8,id:"meta_description",placeholder:"Meta description",...I("meta_description"),className:"flex w-full flex-wrap md:flex-nowrap gap-4 border-[1.8px] rounded-[4px] p-2"}),D.meta_description&&(0,l.jsx)("p",{className:"text-red-500 font-light",children:D.meta_description.message})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsxs)("label",{className:"text-lg font-medium tracking-tight leading-5",htmlFor:"meta_keywords",children:["Subcategory Tags ",(0,l.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,l.jsx)(_.xI,{name:"meta_keywords",control:O,render:e=>{let{field:t}=e;return(0,l.jsx)(E.p,{value:t.value||[],onChange:e=>t.onChange(e)})}}),D.meta_keywords&&(0,l.jsx)("p",{className:"text-red-500 font-light",children:D.meta_keywords.message})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsxs)("label",{className:"text-lg font-medium tracking-tight leading-5",children:["Subcategory Image ",(0,l.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,l.jsx)(S.p,{label:"Upload subcategory image (.jpg, .png). Min: 580px \xd7 386px, Max: 5000px \xd7 5000px",accept:{"image/jpeg":[],"image/png":[]},onDrop:e=>L("image",e,{shouldValidate:!0}),error:null==(t=D.image)?void 0:t.message,itemData:r})]}),(0,l.jsx)("div",{className:"col-span-3 flex justify-center w-full my-8",children:(0,l.jsx)("button",{type:"submit",disabled:F,className:"w-full md:w-auto px-4 py-2 rounded-md font-medium text-white bg-slate-800 hover:bg-black hover:shadow-lg disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed transition-all duration-300 ease-in-out ".concat(F?"cursor-wait":""),children:F?(0,l.jsx)(h.default,{}):r?"Update Subcategory":"Create Subcategory"})})]})})]})}})})}function A(e){let{categoryInitialData:t,subCategoryInitialData:a,categoryColumns:x,subCategoryColumns:h,categoryPageSize:f,subCategoryPageSize:j,categorySearchableFieldsName:y,subCategorySearchableFieldsName:b}=e,[v,w]=(0,p.useState)(""),[N,C]=(0,p.useState)(""),[k,_]=(0,p.useState)(1),[S,E]=(0,p.useState)(1),[M,A]=(0,p.useState)(t||[]),[O,I]=(0,p.useState)(a||[]);(0,p.useEffect)(()=>{A(t||[])},[t]),(0,p.useEffect)(()=>{I(a||[])},[a]);let{data:T}=(0,i.E3)(v),{data:D}=(0,i.Mi)(N),F=(0,p.useMemo)(()=>{let e=(k-1)*f,t=e+f;return(M||[]).slice(e,t)},[M,k,f]),q=(0,p.useMemo)(()=>Math.ceil(((null==M?void 0:M.length)||0)/f),[null==M?void 0:M.length,f]),L=(0,p.useMemo)(()=>{let e=(S-1)*j,t=e+j;return(O||[]).slice(e,t)},[O,S,j]),U=(0,p.useMemo)(()=>Math.ceil(((null==O?void 0:O.length)||0)/j),[null==O?void 0:O.length,j]),z=(0,p.useCallback)(e=>{_(e)},[]),B=(0,p.useCallback)(e=>{E(e)},[]),{isOpen:G,onOpen:R,onOpenChange:Q}=(0,n.j)(),{isOpen:V,onOpen:W,onOpenChange:H}=(0,n.j)(),K=(0,p.useCallback)(e=>{if(_(1),!e||""===e.trim())return void A(t||[]);A((t||[]).filter(t=>y.filter(e=>t.hasOwnProperty(e)&&void 0!==t[e]&&null!==t[e]).some(a=>t[a].toString().toLowerCase().includes(e.toLowerCase()))))},[t,y]),$=(0,p.useCallback)(e=>{if(E(1),!e||""===e.trim())return void I(a||[]);I((a||[]).filter(t=>b.filter(e=>t.hasOwnProperty(e)&&void 0!==t[e]&&null!==t[e]).some(a=>t[a].toString().toLowerCase().includes(e.toLowerCase()))))},[a,b]),Z=(0,p.useCallback)((e,t)=>{try{let r=e[t];switch(t){case"image?.url":var a;return(0,l.jsx)(o.S,{avatarProps:{radius:"lg",src:null==e||null==(a=e.image)?void 0:a.url},name:r});case"name":return(0,l.jsx)("div",{children:e.name});case"actions":return(0,l.jsx)("div",{className:"flex justify-start items-center gap-2",children:(0,l.jsxs)(d.A,{children:[(0,l.jsx)(c.b,{children:(0,l.jsx)(u.T,{isIconOnly:!0,size:"sm",variant:"light",children:(0,l.jsx)(s.ME,{className:"text-default-300"})})}),(0,l.jsx)(m.y,{children:(0,l.jsx)(g.Y,{onPress:()=>{w(null==e?void 0:e._id),R()},children:"Edit"},"edit")})]})});default:return r}}catch(e){return console.error("Error rendering cell ".concat(t,":"),e),(0,l.jsx)("span",{children:"Error"})}},[]),X=(0,p.useCallback)((e,t)=>{try{var a,r;let i=e[t];switch(t){case"image?.url":return(0,l.jsx)(o.S,{avatarProps:{radius:"lg",src:null==e||null==(a=e.image)?void 0:a.url},name:i});case"name":return(0,l.jsx)("div",{children:null==e?void 0:e.name});case"category":return(0,l.jsx)("div",{className:"flex flex-col items-start justify-start gap-4",children:(0,l.jsx)("div",{children:null==e||null==(r=e.category)?void 0:r.name})});case"actions":return(0,l.jsx)("div",{className:"flex justify-start items-center gap-2",children:(0,l.jsxs)(d.A,{children:[(0,l.jsx)(c.b,{children:(0,l.jsx)(u.T,{isIconOnly:!0,size:"sm",variant:"light",children:(0,l.jsx)(s.ME,{className:"text-default-300"})})}),(0,l.jsx)(m.y,{children:(0,l.jsx)(g.Y,{onPress:()=>{C(null==e?void 0:e._id),W()},children:"Edit"},"edit")})]})});default:return i}}catch(e){return console.error("Error rendering cell ".concat(t,":"),e),(0,l.jsx)("span",{children:"Error"})}},[]);return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsx)("h1",{children:"All Categories & Sub-categories"}),(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsx)(u.T,{onPress:R,className:"bg-foreground text-background",endContent:(0,l.jsx)(s.c1,{}),size:"sm",children:"Add Category"}),(0,l.jsx)(u.T,{onPress:W,className:"bg-foreground text-background",endContent:(0,l.jsx)(s.c1,{}),size:"sm",children:"Add Subcategory"})]}),(0,l.jsx)(P,{isOpen:G,onOpenChange:Q,category:null==T?void 0:T.data,setCategoryId:w}),(0,l.jsx)(Y,{isOpen:V,onOpenChange:H,subCategory:null==D?void 0:D.data,setSubCategoryId:C})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsx)(r.A,{data:F,columns:x,pageSize:f,renderCell:Z,searchableFieldsName:y,onSearchChange:K,pagination:{totalPages:q,currentPage:k},onPageChange:z}),(0,l.jsx)(r.A,{data:L,columns:h,pageSize:j,renderCell:X,searchableFieldsName:b,onSearchChange:$,pagination:{totalPages:U,currentPage:S},onPageChange:B})]})]})}function O(){let{data:e}=(0,i.yG)(),{data:t}=(0,i.AC)();return(0,l.jsx)("div",{className:"flex flex-col gap-3",children:(0,l.jsx)(A,{categoryInitialData:null==e?void 0:e.data,subCategoryInitialData:null==t?void 0:t.data,categoryColumns:[{name:"IMAGE",uid:"image?.url"},{name:"CATEGORY NAME",uid:"name"},{name:"ACTIONS",uid:"actions"}],subCategoryColumns:[{name:"IMAGE",uid:"image?.url"},{name:"SUB CATEGORY NAME",uid:"name"},{name:"CATEGORY NAME",uid:"category"},{name:"ACTIONS",uid:"actions"}],categoryPageSize:5,subCategoryPageSize:5,categorySearchableFieldsName:["name"],subCategorySearchableFieldsName:["name"]})})}},50844:(e,t,a)=>{"use strict";a.d(t,{p:()=>s});var l=a(95155),r=a(12115);let s=e=>{let{label:t,accept:a,onDrop:s,error:i,itemData:n}=e,[o,d]=(0,r.useState)(null);return(0,r.useEffect)(()=>{var e;(null==n||null==(e=n.image)?void 0:e.url)&&d(n.image.url)},[n]),(0,l.jsx)("div",{onDrop:e=>{var t;e.preventDefault(),e.stopPropagation();let a=null==(t=e.dataTransfer.files)?void 0:t[0];a&&(d(URL.createObjectURL(a)),s(a))},onDragOver:e=>{e.preventDefault(),e.stopPropagation()},className:"flex items-center justify-center h-full w-full",children:(0,l.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center   w-full max-w-4xl mx-auto   flex flex-col md:flex-row gap-6 md:gap-10   items-center justify-center   min-h-[15rem] md:h-60",children:[(0,l.jsxs)("div",{className:"flex-1 min-w-0 flex flex-col items-center",children:[(0,l.jsx)("p",{className:"text-gray-600 text-sm md:text-base",children:t}),(0,l.jsx)("label",{htmlFor:"image-upload",className:"mt-2 bg-gradient-to-r from-blue-500 to-purple-500   text-white px-4 py-2 rounded-md text-sm md:text-base   w-full md:w-auto text-center cursor-pointer",children:"Drag and Drop Image or Browse Files"}),(0,l.jsx)("input",{id:"image-upload",type:"file",accept:a,onChange:e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];a&&(d(URL.createObjectURL(a)),s(a))},className:"hidden"})]}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("p",{className:"text-gray-700 text-sm md:text-base",children:"Preview:"}),o&&(0,l.jsx)("div",{className:"mt-1 flex flex-col items-center",children:(0,l.jsx)("img",{src:o,alt:"Preview",className:"mt-2 w-32 h-32 md:w-40 md:h-40   object-cover rounded-md shadow-md"})})]}),i&&(0,l.jsx)("p",{className:"text-red-500 font-light mt-2 text-sm md:text-base w-full text-center",children:i})]})})}},53066:(e,t,a)=>{Promise.resolve().then(a.bind(a,50123))},53454:(e,t,a)=>{"use strict";a.d(t,{r:()=>i});var l=a(95155),r=a(60418),s=a(29858);let i=(e,t,a)=>(0,r.$U)({title:"".concat(e,"!"),description:"".concat(t),timeout:"".concat(a),color:"success",position:"top-right",shouldShowTimeoutProgress:!0,classNames:{closeButton:"opacity-100 absolute right-4 top-1/2 -translate-y-1/2 ms-8",base:(0,s.cn)(["bg-default-50 dark:bg-background shadow-sm text-black flex"])},closeIcon:(0,l.jsxs)("svg",{fill:"none",height:"32",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"32",children:[(0,l.jsx)("path",{d:"M18 6 6 18"}),(0,l.jsx)("path",{d:"m6 6 12 12"})]})})},58316:(e,t,a)=>{"use strict";a.d(t,{Em:()=>s,HU:()=>r,UC:()=>n,uR:()=>i});var l=a(70927);let r=l.Ik({name:l.Yj().min(1,"Product name is required"),slug:l.Yj().optional(),category:l.Yj().min(1,"Category is required"),sub_category:l.Yj().optional(),price:l.ai().min(0,"Price must be greater than 0"),sku_code:l.Yj().min(1,"SKU Code is required"),description:l.Yj().min(1,"Description is required"),meta_title:l.Yj().min(1,"Meta Title is required"),meta_description:l.Yj().min(1,"Meta Description is required"),meta_keywords:l.YO(l.Yj()).optional(),image:l.bz().optional(),file:l.bz().optional(),product_pdf:l.bz().optional()}),s=l.Ik({title:l.Yj().min(1,"Blog Title is required"),doc_type:l.Yj().min(1,"Doc Type is required"),slug:l.Yj().optional(),description:l.Yj().min(1,"Description is required"),meta_title:l.Yj().min(1,"Meta Title is required"),meta_description:l.Yj().min(1,"Meta Description is required"),meta_keywords:l.YO(l.Yj()).optional(),image:l.bz().optional()}),i=l.Ik({name:l.Yj().min(1,"Product name is required"),slug:l.Yj().optional(),description:l.Yj().min(1,"Description is required"),meta_title:l.Yj().min(1,"Meta Title is required"),meta_description:l.Yj().min(1,"Meta Description is required"),meta_keywords:l.YO(l.Yj()).optional(),image:l.bz().optional()}),n=l.Ik({name:l.Yj().min(1,"Subcategory name is required"),slug:l.Yj().optional(),category:l.Yj().min(1,"Category is required"),description:l.Yj().min(1,"Description is required"),meta_title:l.Yj().min(1,"Meta Title is required"),meta_description:l.Yj().min(1,"Meta Description is required"),meta_keywords:l.YO(l.Yj()).optional(),image:l.bz().optional()})},72495:(e,t,a)=>{"use strict";a.d(t,{Q:()=>i});var l=a(95155),r=a(60418),s=a(29858);let i=(e,t,a)=>(0,r.$U)({title:"".concat(e,"!"),description:"".concat(t),timeout:"".concat(a||3e3),color:"danger",position:"top-right",shouldShowTimeoutProgress:!0,classNames:{closeButton:"opacity-100 absolute right-4 top-1/2 -translate-y-1/2 ms-8",base:(0,s.cn)(["bg-default-50 dark:bg-background shadow-sm text-black flex"])},closeIcon:(0,l.jsxs)("svg",{fill:"none",height:"32",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"32",children:[(0,l.jsx)("path",{d:"M18 6 6 18"}),(0,l.jsx)("path",{d:"m6 6 12 12"})]})})},78904:(e,t,a)=>{"use strict";a.d(t,{A:()=>g});var l=a(95155),r=a(78355),s=a(17323),i=a(30086),n=a(53773),o=a(95604),d=a(58451),c=a(64177),u=a(33183),m=a(12115);let g=e=>{var t;let{data:a,columns:g,pageSize:p,renderCell:x,onSearchChange:h,pagination:f,onPageChange:j,topContent:y,...b}=e,v=(0,m.useMemo)(()=>Array.isArray(a)?a:[],[a]),w=(null==f?void 0:f.totalPages)||1,N=(null==f?void 0:f.currentPage)||1,C=(0,l.jsx)("div",{className:"flex flex-col gap-4",children:(0,l.jsxs)("div",{className:"flex  gap-3 items-center w-full",children:[(0,l.jsx)(r.r,{isClearable:!0,className:"w-full sm:max-w-[44%]",placeholder:"Search by name...",onValueChange:h,onClear:()=>h("")}),(null==(t=b.selectedIds)?void 0:t.length)>0&&(0,l.jsxs)("div",{className:"text-lg text-gray-600 whitespace-nowrap",children:[b.selectedIds.length," item",b.selectedIds.length>1?"s":""," selected"]})]})}),k=w>1&&(0,l.jsx)("div",{className:"py-2 px-2 flex justify-between items-center",children:(0,l.jsx)(s.T,{isCompact:!0,showControls:!0,showShadow:!0,color:"primary",page:N,total:w,onChange:j})});return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(i.j,{isHeaderSticky:!0,"aria-label":"Example table with custom cells, pagination, and sorting",bottomContent:k,topContent:y||C,selectedKeys:b.selectedKeys,selectionMode:"multiple",selectionBehavior:"check",onSelectionChange:b.onSelectionChange,children:[(0,l.jsx)(n.X,{columns:g,children:e=>(0,l.jsx)(o.e,{children:e.name},e.uid)}),(0,l.jsx)(d.E,{items:v,emptyContent:"No data found",children:e=>(0,l.jsx)(c.s,{children:t=>(0,l.jsx)(u.w,{className:"table-cell self-center",children:x(e,t)})},e._id)})]})})}},90972:(e,t,a)=>{"use strict";a.d(t,{ME:()=>s,WI:()=>i,c1:()=>r});var l=a(95155);let r=e=>{let{size:t=24,width:a,height:r,...s}=e;return(0,l.jsx)("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:t||r,role:"presentation",viewBox:"0 0 24 24",width:t||a,...s,children:(0,l.jsxs)("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,children:[(0,l.jsx)("path",{d:"M6 12h12"}),(0,l.jsx)("path",{d:"M12 18V6"})]})})},s=e=>{let{size:t=24,width:a,height:r,...s}=e;return(0,l.jsx)("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:t||r,role:"presentation",viewBox:"0 0 24 24",width:t||a,...s,children:(0,l.jsx)("path",{d:"M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 12c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z",fill:"currentColor"})})},i=e=>(0,l.jsxs)("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em",...e,children:[(0,l.jsx)("path",{d:"M11.5 21C16.7467 21 21 16.7467 21 11.5C21 6.25329 16.7467 2 11.5 2C6.25329 2 2 6.25329 2 11.5C2 16.7467 6.25329 21 11.5 21Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),(0,l.jsx)("path",{d:"M22 22L20 20",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]})}},e=>{e.O(0,[8827,9234,640,8355,8793,4710,6057,5014,6501,418,7323,9858,8254,8703,6687,2990,9699,1310,9683,868,6185,3634,8441,5964,7358],()=>e(e.s=53066)),_N_E=e.O()}]);