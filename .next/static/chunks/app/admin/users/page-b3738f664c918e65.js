(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8733],{8399:(e,t,s)=>{"use strict";s.d(t,{default:()=>v});var a=s(95155),l=s(78904),n=s(90972),r=s(96424),i=s(3329),o=s(19652),c=s(64165),d=s(25556),h=s(50766),m=s(78355),u=s(64915),x=s(40477),j=s(84520),g=s(1493),p=s(97376),f=s(35695),w=s(12115);function v(e){let{initialData:t,columns:s,pagination:v}=e,C=(0,f.useRouter)(),D=(0,f.useSearchParams)(),[b,N]=(0,w.useState)(null),[y,k]=(0,w.useState)(!1),S=()=>{N(null),k(!1)},[M,P]=(0,w.useState)({search:D.get("search")||"",minDownloads:D.get("minDownloads")||"",startDate:D.get("startDate")||"",endDate:D.get("endDate")||""}),I=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=new URLSearchParams(D);e.search?s.set("search",e.search):s.delete("search"),e.minDownloads?s.set("minDownloads",e.minDownloads):s.delete("minDownloads"),e.startDate?s.set("startDate",e.startDate):s.delete("startDate"),e.endDate?s.set("endDate",e.endDate):s.delete("endDate"),s.set("page",t.toString()),C.push("?".concat(s.toString()))},L=(e,t)=>{let s={...M,[e]:t};P(s),I(s)},A=(0,w.useCallback)((e,t)=>{let s=e[t];switch(t){case"name":return(0,a.jsx)(r.S,{avatarProps:{radius:"lg",src:e.avatar},name:e.fullName||e.name||s,children:e.email});case"createdAt":return(0,a.jsx)(a.Fragment,{children:new Date(e.createdAt).toISOString().split("T")[0]});case"email":return(0,a.jsx)("a",{href:"mailto:".concat(e.email),children:e.email});case"downloadHistory":var l,m;return(0,a.jsx)("div",{className:"pl-4",children:null!=(m=e.downloadCount)?m:null==(l=e.downloadHistory)?void 0:l.length});case"id":return(0,a.jsx)("span",{children:e._id});case"actions":return(0,a.jsx)("div",{className:"relative flex justify-center items-center gap-2",children:(0,a.jsxs)(i.A,{children:[(0,a.jsx)(o.b,{children:(0,a.jsx)(c.T,{isIconOnly:!0,size:"sm",variant:"light",children:(0,a.jsx)(n.ME,{className:"text-default-300"})})}),(0,a.jsx)(d.y,{children:(0,a.jsx)(h.Y,{onPress:()=>{N(e),k(!0)},children:"More Info"},"more-info")})]})});default:return s}},[]),_=(0,a.jsx)("div",{className:"flex flex-col gap-4 mb-4",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-3 items-end justify-center relative",children:[(0,a.jsx)(m.r,{isClearable:!0,className:"w-full sm:max-w-[30%]",placeholder:"Search name or email...",value:M.search,onValueChange:e=>L("search",e),onClear:()=>L("search","")}),(0,a.jsx)(m.r,{type:"number",className:"w-full sm:max-w-[20%]",placeholder:"Min Downloads",value:M.minDownloads,onValueChange:e=>L("minDownloads",e)}),(0,a.jsx)(m.r,{type:"date",className:"w-full sm:max-w-[20%]",value:M.startDate,onChange:e=>L("startDate",e.target.value)}),(0,a.jsx)(m.r,{type:"date",className:"w-full sm:max-w-[20%]",value:M.endDate,onChange:e=>L("endDate",e.target.value)}),(0,a.jsx)("button",{className:"text-red-400 hover:text-gray-600 transition-opacity font-extrabold absolute top-0 right-0 mt-1 mr-1",onClick:()=>{let e={...M,startDate:"",endDate:""};P(e),I(e)},title:"Clear dates",children:"âœ•"})]})});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mx-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"All Users"}),(0,a.jsxs)("div",{className:"mb-4 font-semibold text-lg",children:["Found ",null==v?void 0:v.total," results"]})]}),(0,a.jsx)(l.A,{data:t,columns:s,renderCell:A,pagination:v,onPageChange:e=>{let t=new URLSearchParams(D);t.set("page",e.toString()),C.push("?".concat(t.toString()))},topContent:_}),(0,a.jsx)(u.Y,{isOpen:y,onClose:S,children:(0,a.jsxs)(x.g,{children:[(0,a.jsx)(j.c,{children:"\uD83D\uDCCD User Info"}),(0,a.jsx)(g.h,{className:"text-sm space-y-2",children:Object.entries((null==b?void 0:b.ipInfo)||{}).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,a.jsxs)("span",{className:"font-semibold",children:[t,":"]}),(0,a.jsx)("span",{className:"text-right",children:String(s)})]},t)})}),(0,a.jsx)(p.q,{children:(0,a.jsx)(c.T,{onPress:S,color:"primary",children:"Close"})})]})})]})}},78904:(e,t,s)=>{"use strict";s.d(t,{A:()=>u});var a=s(95155),l=s(78355),n=s(17323),r=s(30086),i=s(53773),o=s(95604),c=s(58451),d=s(64177),h=s(33183),m=s(12115);let u=e=>{var t;let{data:s,columns:u,pageSize:x,renderCell:j,onSearchChange:g,pagination:p,onPageChange:f,topContent:w,...v}=e,C=(0,m.useMemo)(()=>Array.isArray(s)?s:[],[s]),D=(null==p?void 0:p.totalPages)||1,b=(null==p?void 0:p.currentPage)||1,N=(0,a.jsx)("div",{className:"flex flex-col gap-4",children:(0,a.jsxs)("div",{className:"flex  gap-3 items-center w-full",children:[(0,a.jsx)(l.r,{isClearable:!0,className:"w-full sm:max-w-[44%]",placeholder:"Search by name...",onValueChange:g,onClear:()=>g("")}),(null==(t=v.selectedIds)?void 0:t.length)>0&&(0,a.jsxs)("div",{className:"text-lg text-gray-600 whitespace-nowrap",children:[v.selectedIds.length," item",v.selectedIds.length>1?"s":""," selected"]})]})}),y=D>1&&(0,a.jsx)("div",{className:"py-2 px-2 flex justify-between items-center",children:(0,a.jsx)(n.T,{isCompact:!0,showControls:!0,showShadow:!0,color:"primary",page:b,total:D,onChange:f})});return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(r.j,{isHeaderSticky:!0,"aria-label":"Example table with custom cells, pagination, and sorting",bottomContent:y,topContent:w||N,selectedKeys:v.selectedKeys,selectionMode:"multiple",selectionBehavior:"check",onSelectionChange:v.onSelectionChange,children:[(0,a.jsx)(i.X,{columns:u,children:e=>(0,a.jsx)(o.e,{children:e.name},e.uid)}),(0,a.jsx)(c.E,{items:C,emptyContent:"No data found",children:e=>(0,a.jsx)(d.s,{children:t=>(0,a.jsx)(h.w,{className:"table-cell self-center",children:j(e,t)})},e._id)})]})})}},89932:(e,t,s)=>{Promise.resolve().then(s.bind(s,8399))},90972:(e,t,s)=>{"use strict";s.d(t,{ME:()=>n,WI:()=>r,c1:()=>l});var a=s(95155);let l=e=>{let{size:t=24,width:s,height:l,...n}=e;return(0,a.jsx)("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:t||l,role:"presentation",viewBox:"0 0 24 24",width:t||s,...n,children:(0,a.jsxs)("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,children:[(0,a.jsx)("path",{d:"M6 12h12"}),(0,a.jsx)("path",{d:"M12 18V6"})]})})},n=e=>{let{size:t=24,width:s,height:l,...n}=e;return(0,a.jsx)("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:t||l,role:"presentation",viewBox:"0 0 24 24",width:t||s,...n,children:(0,a.jsx)("path",{d:"M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 12c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z",fill:"currentColor"})})},r=e=>(0,a.jsxs)("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em",...e,children:[(0,a.jsx)("path",{d:"M11.5 21C16.7467 21 21 16.7467 21 11.5C21 6.25329 16.7467 2 11.5 2C6.25329 2 2 6.25329 2 11.5C2 16.7467 6.25329 21 11.5 21Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),(0,a.jsx)("path",{d:"M22 22L20 20",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]})}},e=>{e.O(0,[9234,640,8355,8793,6057,6501,7323,8254,8703,6687,2990,9699,1310,4505,8441,5964,7358],()=>e(e.s=89932)),_N_E=e.O()}]);